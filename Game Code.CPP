#include<iostream.h>
#include<conio.h>
#include<stdlib.h>
#include<iomanip.h>
void main()
{       clrscr();
	char choice;
	cout<<setw(60)<<"MASTERMIND: Classic CodeBreaking";
	cout<<"\nAim\n";
	cout<<"To guess a random 4 letter combination from the letters";
	cout<<" V I B G Y O R generated by the computer.";
	cout<<"\n\nHow to Play? \nEnter a 4 letters combination and the computer will";
	cout<<" tell you how close you are\nto guessing the code.";
	cout<<" \nThe no. of'#'s is equal to the no. of letters";
	cout<<" that are present in the computer'scombination also, but";
	cout<<" at the wrong position,\nand No. of '*'s are equal to the letters present in the computer's combination\nand ";
	cout<<" at the right position.\n";
	cout<<"You get 12 tries.\n";
  cout<<"\n\nStart? (Y/N) ";
  cin>>choice;
  while(choice=='Y')
  {     clrscr();
	int s,pos,colour;
	char colours[7]={'V','I','B','G','Y','O','R'};
	char user[4];
	char code[4];
	char temp[4];
	randomize();
	for (int i=0;i<4;i++)
	{ int j=random(7);  //generating code
		code[i]=colours[j];
		temp[i]=colours[j];
	}

	//for (i=0;i<4;i++)
	//cout<<code[i]<<" ";

	int count=0;
	do
	{
		for (int i=0;i<4;i++)
		code[i]=temp[i]; //transfer code
		pos=0;
		colour=0;
		count++;
		cout<<"\nTRY "<<count<<"\t";
		for (i=0;i<4;i++) //input
			cin>>user[i];
		for (i=0;i<4;i++)
		{ if (code[i]==user[i]) //Same position
		   { 	pos++;
			code[i]='5';
			user[i]='6';
		   }
		}
		for (i=0;i<4;i++) //diff position
		{
			for (int j=0;j<4;j++)
			{	   if ((user[j]==code[i]))
			       {
				   colour++;
				   user[j]='6';
				   code[i]='5';
			       }

			}
		}
	cout<<"      \t        ";
	for (int k=1;k<=pos;k++)
		cout<<"*"<<" ";
	for (k=1;k<=colour;k++)
		cout<<"#"<<" ";


	if ( pos==4)
		{ cout<<"\nYOU GOT IT!" ;
		  s=1;
		}
	}
	while ( (count<12) && (s!=1) );
	if(pos!=4)
		cout<<"\nSORRY. YOU LOSE.";
	count=0;

	s=0;
	cout<<"\n\nTHE COMBINATION WAS"<<" ";
	for (  i=0;i<4;i++)
		cout<<temp[i]<<" ";
	cout<<"\n\n Again?(Y/N) ";
	cin>>choice;


}

    getch();


}
